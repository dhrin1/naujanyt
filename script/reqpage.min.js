$(()=>{
		const pid = getUrlParameters()["pid"];
		let loadtheattributegroupcomponentname = async (id = null) => await $.post('function/function.php', {load:'loadtheattributegroupcomponentname', id:id}, function(data){
			$('#lbl-state').html(data.state);
			$('#txt-groupid-holder').val(pid);
		},'json');
		loadtheattributegroupcomponentname(pid);


		let clearUpCKEditor = () => {
			for(instance in CKEDITOR.instances){
				CKEDITOR.instances[instance].updateElement();
			}
				CKEDITOR.instances[instance].setData('');
		};

		let loadthecontrolsubadminbyaccattribute = async (id = null) => await $.post('function/function.php', {load:'loadthecontrolsubadminbyaccattribute', id:id, parse:'getCounts'}, function(data){
			$('#ld-reg-offi-p-ad').html(data.member);
		}, 'json');

		let loadthecontrolstatubyaccattribute = async (id = null) => $.post('function/function.php', {load:'loadthecontrolsubadminbyaccattribute', id:id, parse:'getStatus'}, function(data){
			$('#ld-ctrl-sub-a-dmn').html(data.status);
		}, 'json');

		loadthecontrolsubadminbyaccattribute(pid);
		loadthecontrolstatubyaccattribute(pid);

		$(document).on('submit', '#frm-article', function(event){
			event.preventDefault();
			if(confirm('Are you sure do you want to public this?'))
			$.post('function/function.php', $(this).serialize(), function(data){
				message('#msg-alert-pub', data, 'success');
				clearUpCKEditor();
			});
		});


		let loadthepostattributeanddistinct = async (id = null) => await $.post('function/function.php', {load:'loadthepostattributeanddistinct', id:id}, function(data){
			$('#ld-div-post-ance-sc').html(data.content);
		},'json');
		loadthepostattributeanddistinct(pid);

		$(document).on('click', '#btn-rmve-ths-pst-adm', function(){
			let id = $(this).data('id');
			if(confirm('Are you sure do you want to remove this?'))
			$.post('function/function.php', {action:'letremovethepostbyadminart', id:id, parse:'getRpost'}, function(data){
				loadthepostattributeanddistinct(pid);
			});
		});
		

		let loadtheuseradminlistgroupmemberctrl = async (id = null, filter = null) => await $.post('function/function.php', {load:'loadtheuseradminlistgroupmemberctrl', id:id, filter:filter}, function(data){
			$('#ld-memb-u-grp-list').html(data.memcontent);

		},'json'); 

		$(document).on('change', '#mem-filter', function(){
			loadtheuseradminlistgroupmemberctrl(pid, $('#mem-filter option:selected').val());
		});
		loadtheuseradminlistgroupmemberctrl(pid);


		$(document).on('click', '#btn-view-info-by-r-member', function(){
			let id = $(this).data('id');
			loadtheusermemberprofileget(id);
		});

		let loadtheusermemberprofileget = async (id) => await $.post('function/function.php', {load:'loadtheaccountinfoRequest', id:id}, function(data){
				$('#txt-fname').text(data.fname);
				$('#txt-desig').text(data.desig);
				$('#txt-term').text(data.term);
				$('#txt-paddre').text(data.address);
				$('#txt-age').text(data.age);
				$('#txt-gender').text(data.gender);
				$('#txt-muni').text(data.city+', '+data.state);
				$('#txt-contact').text(data.contact);
				$('#txt-email').text(data.email);
				$('#ld-ctrl-vrfy').html(data.subVerify);
				$('#mdl-view-d-mem').modal({

					keyboard: false,
					backdrop: 'static'
				});
			},'json');


		$(document).on('click', '#btn-acc-act-frm-sb-a', function(){
			let id = $(this).data('id');
			let vid = $(this).data('vid');
			$.post('function/function.php', {action:'letapprovedadminsubadminfromgroup', id:id},function(data){
				message('#msg-alert-act', data, 'success');
				loadtheuseradminlistgroupmemberctrl(pid, $('#mem-filter option:selected').val());
				loadtheusermemberprofileget(vid);
			});
		});


		$(document).on('click', '#btn-ctrl-post', function(){ loadthepostattributeanddistinct(pid); });
		$(document).on('click', '#btn-req-pro-group-ctrl', function(){ 
			$.get('php/profiling-group.php').then(html => {
	      		$('#home').html(html).hide().fadeIn();  
	    	});
		 });

		$(document).on('click', '#btn-my-info-group-ctrl', function(){
			$.get('php/myinfo-group.php').then(html => {
	      		$('#home').html(html).hide().fadeIn();  
	    	});
		});
	});